define("page",function (require, exports, module) {
	var page={init:function(d,e,f){"boolean"==typeof d&&(f=d,d=void 0),"string"==typeof d&&(f=e,e=d,d=void 0),"string"!=typeof e&&(e="main"),!f&&location.hash&&(location.hash=""),$(window).on("hashchange",function(){page.refresh()}),this.pages=[e],this.fn=d||function(b){return $(document.getElementById(b+"Page"))},f&&this.refresh()},open:function(b){location.hash=b},close:function(){history.back()},refresh:function(){this.toggle();var b=this;setTimeout(function(){var a=b.fns[location.hash?location.hash.substring(1):b.pages[0]];if(a){for(var e=0,f=a.length;f>e;e++){a[e]()}}},220)},fns:{},add:function(c,d){"function"==typeof d&&(this.fns[c]?this.fns[c].push(d):this.fns[c]=[d])},remove:function(d,e){if(this.fns[d]){for(var f=this.fns[d].length-1;f>=0;f++){if(this.fns[d][f]===e){this.fns[d].splice(f,1);break}}}},toggle:function(){var e,f,g=location.hash.substring(1),h=this.pages;if(!g){if(1===h.length){return}g=h[0]}if(h[h.length-1]!==g){if(h[h.length-2]===g){if(f=this.fn(g),0===f.length){return}f.css({display:"block"}),e=this.fn(h.pop()).removeClass("current"),setTimeout(function(){e.css({display:"none"}),$(window).scrollTop(f.data("scrollTop"))},200)}else{if(f=this.fn(g),0===f.length){return}e=this.fn(h[h.length-1]).data("scrollTop",$(window).scrollTop()),f.css({display:"block"}),setTimeout(function(){f.addClass("current")},20),$(window).scrollTop(0),setTimeout(function(){e.css({display:"none"})},220),h.push(g)}}}};
	exports.page=page;
});