define("calendar",function (require, exports, module) {
	!function(){function r(b){return b.setHours(0),b.setMinutes(0),b.setSeconds(0),b.setMilliseconds(0),b}function s(b){return"string"==typeof b&&""!==b}function t(a){if(this.today=r(new Date),$.extend(this,a),u.call(this),w.call(this),this.tips||(this.tips=["请选择起始时间","请选择结束时间"]),!this.wrapper){var d=(this.name||"calendar")+"Page",f=this.title||"选择日期";this.wrapper=$("#"+d),this.wrapper.length?(D&&$(".page-header h2",this.wrapper).html(f),$(".calendar",this.wrapper).remove()):($("body").append('<div id="'+d+'" class="page">'+(D?'<div class="page-header"><a class="page-back" href="javascript:void(0);"></a><h2>'+f+"</h2></div>":"")+"</div>"),this.wrapper=$("#"+d))}x.call(this),C.call(this)}function u(){v(this,["startDate","endDate"]),this.currentDate?v(this.currentDate,[0,1]):this.currentDate=[]}function v(a,b){for(var h,i=0,j=b.length;j>i;i++){h=b[i],s(a[h])?a[h]=Date.ParseString(a[h]):a[h] instanceof Date?r(a[h]):a[h]=void 0}}function w(){if(this.startDate||(this.startDate=this.today),!this.endDate){var b=new Date(this.today);b.setMonth(b.getMonth()+6),b.setDate(b.getDate()-1),this.endDate=b}}function x(){var f,g,h='<div class="calendar">';if(this.ajaxObj?(E=0,F=[],G=0,f=y):f=function(b){h+=z.call(this,b)},this.reverseOrder){g=new Date(this.endDate),g.setDate(1);var i=new Date(this.startDate);for(i.setDate(1);g.getTime()>=i;){f.call(this,new Date(g),E++),g.setMonth(g.getMonth()-1)}}else{for(g=new Date(this.startDate),g.setDate(1);g.getTime()<=this.endDate;){f.call(this,new Date(g),E++),g.setMonth(g.getMonth()+1)}}if("range"===this.mode){h+='<div class="calendar-tips fixed">'+this.tips[0]+"</div>";var j=this;setTimeout(function(){$(".calendar-tips",j.wrapper).animate({"margin-left":"-100px"},300,"ease-in-out")},300)}h+="</div>",this.wrapper.append(h)}function y(f,g){var h=$.extend({},this.ajaxObj),i=this,j=f.getMonth()+1;h.url=h.url.replace("{year}",f.getFullYear()).replace("{month}",(10>j?"0":"")+j),i.ajaxObj.beforeSend&&(h.beforeSend=function(a,d){i.ajaxObj.beforeSend(a,d,f)}),h.success=function(a){i.ajaxObj.success&&(a=i.ajaxObj.success(a)),F[g]=z.call(i,f,a),G++,G===E&&$(".calendar",i.elem).html(F.join(""))},$.ajax(h)}function z(g,h){for(var i=g.getMonth(),j=new Date(g),k='<div class="calendar-wrapper" data-year="'+g.getFullYear()+'" data-month="'+(g.getMonth()+1)+'"><h3>'+g.getFullYear()+"年"+(g.getMonth()+1)+'月</h3><table><tr><th class="sunday">日</th><th>一</th><th>二</th><th>三</th><th>四</th><th>五</th><th class="saturday">六</th></tr><tr>';0!==j.getDay();){j.setDate(j.getDate()-1),k+='<td class="disabled"></td>'}var l=this.startDate;for("rangeTo"===this.mode&&this.currentDate[0]&&this.currentDate[0].getTime()>this.startDate.getTime()&&(l=this.currentDate[0]);g.getMonth()===i;){k+=A.call(this,g,l,h),g.setDate(g.getDate()+1),0===g.getDay()&&g.getMonth()===i&&(k+="</tr><tr>")}for(;0!==g.getDay();){k+='<td class="disabled"></td>',g.setDate(g.getDate()+1)}return k+="</tr></table></div>"}function A(k,l,m){var n=[];0===k.getDay()?n.push("sunday"):6===k.getDay()&&n.push("saturday"),(k.getTime()<l.getTime()||k.getTime()>this.endDate.getTime())&&n.push("disabled");var o,p,q=B(k);if(q?(o=q,p="festival"):k.getTime()===this.today.getTime()&&(o="今天",p="today"),p&&n.push(p),this.currentDate){var I=this.currentDate[0],J=this.currentDate[1];I&&(k.getTime()===I.getTime()?n.push("from-day"):k.getTime()>I.getTime()&&J&&k.getTime()<J.getTime()&&n.push("range-day")),J&&J.getTime()===k.getTime()&&n.push("to-day")}var K;return K=this.buildContent?this.buildContent(k,o,n,m):o?o:k.getDate(),"<td"+(n.length?' class="'+n.join(" ")+'"':"")+' data-day="'+k.getDate()+'"><div>'+K+"</div></td>"}function B(f){var g=f.getFullYear(),h=f.getMonth()+1,i=f.getDate(),j=H[g+"-"+h+"-"+i];return j?j:(1===h&&1===i?j="元旦":2===h&&14===i?j="情人":5===h&&1===i?j="五一":6===h&&1===i?j="儿童":10===h&&1===i?j="国庆":12===h&&25===i&&(j="圣诞"),j)}function C(){var e=this;if("range"===e.mode){var f,g=!0,h=[];$(".calendar",e.wrapper).delegate("td","click",function(){var a=$(this);if(!a.hasClass("disabled")){var b=a.parents(".calendar-wrapper");if(f=[b.attr("data-year"),b.attr("data-month"),a.attr("data-day")],g){for(var c,d=["from-day","range-day","to-day"],j=0;c=d[j++];){$("."+c,e.wrapper).removeClass(c)}a.addClass("from-day"),$(".calendar-tips",e.wrapper).css({"margin-left":"50%"}).html(e.tips[1]).animate({"margin-left":"-100px"},300,"ease-in-out"),h=[f],g=!1}else{h.push(f),e.fn(h),g=!0}}})}else{$(".calendar",e.wrapper).delegate("td","click",function(){var a=$(this);if(!a.hasClass("disabled")&&"function"==typeof e.fn){var d=a.parents(".calendar-wrapper");e.fn([d.attr("data-year"),d.attr("data-month"),a.attr("data-day")],a)}})}}var D=-1===navigator.userAgent.toLowerCase().indexOf("tctravel");Date.ParseString=function(f){var g=/(\d{4})-(\d{1,2})-(\d{1,2})(?:\s+(\d{1,2}):(\d{1,2}):(\d{1,2}))?/i,h=g.exec(f),i=0,j=null;return i=Date.parse(h&&h.length?h.length>5&&h[6]?f.replace(g,"$2/$3/$1 $4:$5:$6"):f.replace(g,"$2/$3/$1"):f),isNaN(i)||(j=new Date(i)),j},$.calendar=function(b){return new t(b)};var E,F,G,H={"2014-1-30":"除夕","2014-1-31":"春节","2014-2-14":"元宵","2014-4-5":"清明","2014-6-2":"端午","2014-8-2":"七夕","2014-9-8":"中秋","2014-10-2":"重阳","2015-2-18":"除夕","2015-2-19":"春节","2015-3-5":"元宵","2015-4-5":"清明","2015-6-20":"端午","2015-8-20":"七夕","2015-9-27":"中秋","2015-10-21":"重阳","2016-2-7":"除夕","2016-2-8":"春节","2016-2-22":"元宵","2016-4-4":"清明","2016-6-9":"端午","2016-8-9":"七夕","2016-9-15":"中秋","2016-10-19":"重阳","2017-1-27":"除夕","2017-1-28":"春节","2017-2-11":"元宵","2017-4-4":"清明","2017-5-30":"端午","2017-8-28":"七夕","2017-10-4":"中秋","2017-10-28":"重阳","2018-2-15":"除夕","2018-2-16":"春节","2018-3-2":"元宵","2018-4-5":"清明","2018-6-18":"端午","2018-8-17":"七夕","2018-9-24":"中秋","2018-10-17":"重阳","2019-2-4":"除夕","2019-2-5":"春节","2019-2-19":"元宵","2019-4-5":"清明","2019-6-7":"端午","2019-8-7":"七夕","2019-9-13":"中秋","2019-10-7":"重阳","2020-1-24":"除夕","2020-1-25":"春节","2020-2-8":"元宵","2020-4-4":"清明","2020-6-25":"端午","2020-8-25":"七夕","2020-10-1":"中秋","2020-10-25":"重阳"}}();
});