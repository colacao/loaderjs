define("calendar",function(c,a,b){return define("calendar",function(t,e,a){!function(){function t(t){return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t}function e(t){return"string"==typeof t&&""!==t}function a(e){if(this.today=t(new Date),$.extend(this,e),r.call(this),i.call(this),this.tips||(this.tips=["请选择起始时间","请选择结束时间"]),!this.wrapper){var a=(this.name||"calendar")+"Page",s=this.title||"选择日期";this.wrapper=$("#"+a),this.wrapper.length?(g&&$(".page-header h2",this.wrapper).html(s),$(".calendar",this.wrapper).remove()):($("body").append(\'<div id="\'+a+\'" class="page">\'+(g?\'<div class="page-header"><a class="page-back" href="javascript:void(0);"></a><h2>\'+s+"</h2></div>":"")+"</div>"),this.wrapper=$("#"+a))}n.call(this),o.call(this)}function r(){s(this,["startDate","endDate"]),this.currentDate?s(this.currentDate,[0,1]):this.currentDate=[]}function s(a,r){for(var s,i=0,n=r.length;n>i;i++)s=r[i],e(a[s])?a[s]=Date.ParseString(a[s]):a[s]instanceof Date?t(a[s]):a[s]=void 0}function i(){if(this.startDate||(this.startDate=this.today),!this.endDate){var t=new Date(this.today);t.setMonth(t.getMonth()+6),t.setDate(t.getDate()-1),this.endDate=t}}function n(){var t,e,a=\'<div class="calendar">\';if(this.ajaxObj?(u=0,p=[],f=0,t=h):t=function(t){a+=d.call(this,t)},this.reverseOrder){e=new Date(this.endDate),e.setDate(1);var r=new Date(this.startDate);for(r.setDate(1);e.getTime()>=r;)t.call(this,new Date(e),u++),e.setMonth(e.getMonth()-1)}else for(e=new Date(this.startDate),e.setDate(1);e.getTime()<=this.endDate;)t.call(this,new Date(e),u++),e.setMonth(e.getMonth()+1);if("range"===this.mode){a+=\'<div class="calendar-tips fixed">\'+this.tips[0]+"</div>";var s=this;setTimeout(function(){$(".calendar-tips",s.wrapper).animate({"margin-left":"-100px"},300,"ease-in-out")},300)}a+="</div>",this.wrapper.append(a)}function h(t,e){var a=$.extend({},this.ajaxObj),r=this,s=t.getMonth()+1;a.url=a.url.replace("{year}",t.getFullYear()).replace("{month}",(10>s?"0":"")+s),r.ajaxObj.beforeSend&&(a.beforeSend=function(e,a){r.ajaxObj.beforeSend(e,a,t)}),a.success=function(a){r.ajaxObj.success&&(a=r.ajaxObj.success(a)),p[e]=d.call(r,t,a),f++,f===u&&$(".calendar",r.elem).html(p.join(""))},$.ajax(a)}function d(t,e){for(var a=t.getMonth(),r=new Date(t),s=\'<div class="calendar-wrapper" data-year="\'+t.getFullYear()+\'" data-month="\'+(t.getMonth()+1)+\'"><h3>\'+t.getFullYear()+"年"+(t.getMonth()+1)+\'月</h3><table><tr><th class="sunday">日</th><th>一</th><th>二</th><th>三</th><th>四</th><th>五</th><th class="saturday">六</th></tr><tr>\';0!==r.getDay();)r.setDate(r.getDate()-1),s+=\'<td class="disabled"></td>\';var i=this.startDate;for("rangeTo"===this.mode&&this.currentDate[0]&&this.currentDate[0].getTime()>this.startDate.getTime()&&(i=this.currentDate[0]);t.getMonth()===a;)s+=l.call(this,t,i,e),t.setDate(t.getDate()+1),0===t.getDay()&&t.getMonth()===a&&(s+="</tr><tr>");for(;0!==t.getDay();)s+=\'<td class="disabled"></td>\',t.setDate(t.getDate()+1);return s+="</tr></table></div>"}function l(t,e,a){var r=[];0===t.getDay()?r.push("sunday"):6===t.getDay()&&r.push("saturday"),(t.getTime()<e.getTime()||t.getTime()>this.endDate.getTime())&&r.push("disabled");var s,i,n=c(t);if(n?(s=n,i="festival"):t.getTime()===this.today.getTime()&&(s="今天",i="today"),i&&r.push(i),this.currentDate){var h=this.currentDate[0],d=this.currentDate[1];h&&(t.getTime()===h.getTime()?r.push("from-day"):t.getTime()>h.getTime()&&d&&t.getTime()<d.getTime()&&r.push("range-day")),d&&d.getTime()===t.getTime()&&r.push("to-day")}var l;return l=this.buildContent?this.buildContent(t,s,r,a):s?s:t.getDate(),"<td"+(r.length?\' class="\'+r.join(" ")+\'"\':"")+\' data-day="\'+t.getDate()+\'"><div>\'+l+"</div></td>"}function c(t){var e=t.getFullYear(),a=t.getMonth()+1,r=t.getDate(),s=D[e+"-"+a+"-"+r];return s?s:(1===a&&1===r?s="元旦":2===a&&14===r?s="情人":5===a&&1===r?s="五一":6===a&&1===r?s="儿童":10===a&&1===r?s="国庆":12===a&&25===r&&(s="圣诞"),s)}function o(){var t=this;if("range"===t.mode){var e,a=!0,r=[];$(".calendar",t.wrapper).delegate("td","click",function(){var s=$(this);if(!s.hasClass("disabled")){var i=s.parents(".calendar-wrapper");if(e=[i.attr("data-year"),i.attr("data-month"),s.attr("data-day")],a){for(var n,h=["from-day","range-day","to-day"],d=0;n=h[d++];)$("."+n,t.wrapper).removeClass(n);s.addClass("from-day"),$(".calendar-tips",t.wrapper).css({"margin-left":"50%"}).html(t.tips[1]).animate({"margin-left":"-100px"},300,"ease-in-out"),r=[e],a=!1}else r.push(e),t.fn(r),a=!0}})}else $(".calendar",t.wrapper).delegate("td","click",function(){var e=$(this);if(!e.hasClass("disabled")&&"function"==typeof t.fn){var a=e.parents(".calendar-wrapper");t.fn([a.attr("data-year"),a.attr("data-month"),e.attr("data-day")],e)}})}var g=-1===navigator.userAgent.toLowerCase().indexOf("tctravel");Date.ParseString=function(t){var e=/(\\d{4})-(\\d{1,2})-(\\d{1,2})(?:\\s+(\\d{1,2}):(\\d{1,2}):(\\d{1,2}))?/i,a=e.exec(t),r=0,s=null;return r=Date.parse(a&&a.length?a.length>5&&a[6]?t.replace(e,"$2/$3/$1 $4:$5:$6"):t.replace(e,"$2/$3/$1"):t),isNaN(r)||(s=new Date(r)),s},$.calendar=function(t){return new a(t)};var u,p,f,D={"2014-1-30":"除夕","2014-1-31":"春节","2014-2-14":"元宵","2014-4-5":"清明","2014-6-2":"端午","2014-8-2":"七夕","2014-9-8":"中秋","2014-10-2":"重阳","2015-2-18":"除夕","2015-2-19":"春节","2015-3-5":"元宵","2015-4-5":"清明","2015-6-20":"端午","2015-8-20":"七夕","2015-9-27":"中秋","2015-10-21":"重阳","2016-2-7":"除夕","2016-2-8":"春节","2016-2-22":"元宵","2016-4-4":"清明","2016-6-9":"端午","2016-8-9":"七夕","2016-9-15":"中秋","2016-10-19":"重阳","2017-1-27":"除夕","2017-1-28":"春节","2017-2-11":"元宵","2017-4-4":"清明","2017-5-30":"端午","2017-8-28":"七夕","2017-10-4":"中秋","2017-10-28":"重阳","2018-2-15":"除夕","2018-2-16":"春节","2018-3-2":"元宵","2018-4-5":"清明","2018-6-18":"端午","2018-8-17":"七夕","2018-9-24":"中秋","2018-10-17":"重阳","2019-2-4":"除夕","2019-2-5":"春节","2019-2-19":"元宵","2019-4-5":"清明","2019-6-7":"端午","2019-8-7":"七夕","2019-9-13":"中秋","2019-10-7":"重阳","2020-1-24":"除夕","2020-1-25":"春节","2020-2-8":"元宵","2020-4-4":"清明","2020-6-25":"端午","2020-8-25":"七夕","2020-10-1":"中秋","2020-10-25":"重阳"}}()});},'m');